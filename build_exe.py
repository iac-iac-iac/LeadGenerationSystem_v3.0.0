# build_exe.py
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è .exe —Ñ–∞–π–ª–∞ Lead Generation System v3.2.0
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: python build_exe.py
"""

import os
import subprocess
import sys
import shutil


def create_spec_file():
    """–°–æ–∑–¥–∞–Ω–∏–µ .spec —Ñ–∞–π–ª–∞ –¥–ª—è PyInstaller"""
    spec_content = """# -*- mode: python ; coding: utf-8 -*-

block_cipher = None

a = Analysis(
    ['main.py'],
    pathex=[],
    binaries=[],
    datas=[
        ('config', 'config'),
        ('data', 'data'),
    ],
    hiddenimports=[
        # –û—Å–Ω–æ–≤–Ω—ã–µ
        'pandas',
        'phonenumbers',
        'customtkinter',
        'matplotlib',
        'openpyxl',
        'tkinter',
        'PIL._tkinter_finder',
        
        # –°–µ—Ç—å –∏ API
        'requests',
        'urllib3',
        'urllib.parse',
        'http.client',
        'json',
        
        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
        'sqlite3',
        
        # –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
        'threading',
        'time',
        
        # –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è v3.2
        'io',
        'csv',
        'datetime',
        'logging',
        'pathlib',
    ],
    hookspath=[],
    hooksconfig={},
    runtime_hooks=[],
    excludes=[],
    win_no_prefer_redirects=False,
    win_private_assemblies=False,
    cipher=block_cipher,
    noarchive=False,
)

pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)

exe = EXE(
    pyz,
    a.scripts,
    [],
    exclude_binaries=True,
    name='LeadGenerationSystem',
    debug=False,
    bootloader_ignore_signals=False,
    strip=False,
    upx=True,
    console=False,  # –ë–µ–∑ –∫–æ–Ω—Å–æ–ª–∏ (GUI —Ä–µ–∂–∏–º)
    disable_windowed_traceback=False,
    argv_emulation=False,
    target_arch=None,
    codesign_identity=None,
    entitlements_file=None,
    icon=None,  # –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å .ico —Ñ–∞–π–ª
)

coll = COLLECT(
    exe,
    a.binaries,
    a.zipfiles,
    a.datas,
    strip=False,
    upx=True,
    upx_exclude=[],
    name='LeadGenerationSystem',
)
"""

    with open('LeadGenerationSystem.spec', 'w', encoding='utf-8') as f:
        f.write(spec_content)

    print("‚úÖ –§–∞–π–ª LeadGenerationSystem.spec —Å–æ–∑–¥–∞–Ω")


def check_structure():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞"""
    print("üìÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞...")

    required_files = [
        'main.py',
        'config/config.json',
        'modules/data_processor.py',
        'modules/webbee_integration.py',
        'modules/yandex_maps_url_generator.py',  # –ù–æ–≤—ã–π –º–æ–¥—É–ª—å
        'database/db_manager.py',
        'gui/main_window.py',
    ]

    missing_files = []
    for file_path in required_files:
        if not os.path.exists(file_path):
            missing_files.append(file_path)

    if missing_files:
        print("‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ñ–∞–π–ª—ã:")
        for file in missing_files:
            print(f"   - {file}")
        return False

    print("‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞")
    return True


def install_dependencies():
    """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"""
    print("üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ requirements.txt...")

    try:
        subprocess.check_call(
            [sys.executable, '-m', 'pip', 'install', '-r', 'requirements.txt'])
        print("‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: {e}")
        sys.exit(1)


def install_pyinstaller():
    """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyInstaller"""
    print("üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyInstaller...")

    try:
        subprocess.check_call(
            [sys.executable, '-m', 'pip', 'install', 'pyinstaller'])
        print("‚úÖ PyInstaller —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PyInstaller: {e}")
        sys.exit(1)


def clean_build_folders():
    """–û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–±–æ—Ä–æ–∫"""
    print("üßπ –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–±–æ—Ä–æ–∫...")

    folders_to_clean = ['build', 'dist']

    for folder in folders_to_clean:
        if os.path.exists(folder):
            shutil.rmtree(folder)
            print(f"   –£–¥–∞–ª–µ–Ω–∞ –ø–∞–ø–∫–∞: {folder}")

    if os.path.exists('LeadGenerationSystem.spec'):
        os.remove('LeadGenerationSystem.spec')
        print("   –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π .spec —Ñ–∞–π–ª")

    print("‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞")


def build_exe():
    """–°–±–æ—Ä–∫–∞ .exe —Ñ–∞–π–ª–∞"""
    print("üî® –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É .exe —Ñ–∞–π–ª–∞...")
    print("‚è≥ –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç...\n")

    try:
        subprocess.check_call(
            ['pyinstaller', 'LeadGenerationSystem.spec', '--clean', '--noconfirm'])

        print("\n‚úÖ –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!")
        print("\n" + "=" * 60)
        print("üìÅ –ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:")
        print("   dist/LeadGenerationSystem/")
        print("\nüöÄ –î–ª—è –∑–∞–ø—É—Å–∫–∞:")
        print("   dist/LeadGenerationSystem/LeadGenerationSystem.exe")
        print("=" * 60)

        return True

    except Exception as e:
        print(f"\n‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏: {e}")
        return False


def create_readme():
    """–°–æ–∑–¥–∞–Ω–∏–µ README –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è"""
    readme_content = """
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë          Lead Generation System v3.2.0                        ‚ïë
‚ïë       –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–∏–¥–æ–≤ –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìã –ß–¢–û –í–ö–õ–Æ–ß–ï–ù–û:

‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–æ–≤
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç –ë–∏—Ç—Ä–∏–∫—Å24
‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Å—ã–ª–æ–∫ –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç (–ù–û–í–û–ï!)
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Webbee AI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–ù–û–í–û–ï!)
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–æ–∫ –∏ –æ—Ç—á–µ—Ç—ã

üì¶ –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:

1. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –≤ –ª—é–±—É—é –ø–∞–ø–∫—É
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ LeadGenerationSystem.exe
3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê:

‚Ä¢ –§–∞–π–ª config/config.json —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚Ä¢ –î–æ–±–∞–≤—å—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏")
‚Ä¢ –î–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Webbee AI –Ω—É–∂–µ–Ω API —Ç–æ–∫–µ–Ω (https://app.webbee-ai.ru)

üó∫Ô∏è –ì–ï–ù–ï–†–ê–¢–û–† –°–°–´–õ–û–ö –Ø–ù–î–ï–ö–°.–ö–ê–†–¢–´:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ü–∞—Ä—Å–∏–Ω–≥ Webbee AI"
2. –í–≤–µ–¥–∏—Ç–µ —Å–µ–≥–º–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–∫–∞—Ñ–µ", "—Å–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã")
3. –í—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ –≤—Ä—É—á–Ω—É—é
4. –î–ª—è –º–µ–≥–∞–ø–æ–ª–∏—Å–æ–≤ (–ú–æ—Å–∫–≤–∞, –°–ü–±) –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–∞–π–æ–Ω—ã
5. –ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏" - –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –ø–æ–ª–µ
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Webbee AI

ü§ñ –ü–ê–†–°–ò–ù–ì –ß–ï–†–ï–ó WEBBEE AI:

1. –ü–æ–ª—É—á–∏—Ç–µ API —Ç–æ–∫–µ–Ω –Ω–∞ https://app.webbee-ai.ru
2. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ
3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
4. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥"
5. –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
6. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–ø–∫—É data/processed/

üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–ê–ü–û–ö:

data/
  ‚îú‚îÄ‚îÄ processed/    - –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
  ‚îú‚îÄ‚îÄ reports/      - –û—Ç—á–µ—Ç—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
  ‚îî‚îÄ‚îÄ database.db   - –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–æ–∫ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

logs/               - –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

config/
  ‚îî‚îÄ‚îÄ config.json   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

üí° –û–°–ù–û–í–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:

üîπ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
   ‚Ä¢ –ó–∞–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–æ–≤ –∏–∑ –ª—é–±—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
   ‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
   ‚Ä¢ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏

üîπ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã:
   ‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
   ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏
   ‚Ä¢ –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º –¥–ª—è –º–µ–≥–∞–ø–æ–ª–∏—Å–æ–≤
   ‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç —Å—Å—ã–ª–æ–∫ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç

üîπ Webbee AI:
   ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
   ‚Ä¢ –°–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, –∞–¥—Ä–µ—Å–æ–≤, —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
   ‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   ‚Ä¢ –ì–æ—Ç–æ–≤—ã–µ CSV —Ñ–∞–π–ª—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

üîπ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞:
   ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
   ‚Ä¢ –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–æ–∫
   ‚Ä¢ –û—Ç—á–µ—Ç—ã –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º

üìû –ü–û–î–î–ï–†–ñ–ö–ê:

Email: i@iac-iac.ru
Telegram: @iac_support
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://github.com/your-repo/wiki

–í–µ—Ä—Å–∏—è: 3.2.0
–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞: 05.02.2026

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üéØ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–≤–∫–ª–∞–¥–∫–∞ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏")
3. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Webbee AI
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
6. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ (–≤–∫–ª–∞–¥–∫–∞ "–û–±—Ä–∞–±–æ—Ç–∫–∞")
7. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –ë–∏—Ç—Ä–∏–∫—Å24

–ì–æ—Ç–æ–≤–æ! –í–∞—à–∏ –ª–∏–¥—ã –≥–æ—Ç–æ–≤—ã –∫ –∏–º–ø–æ—Ä—Ç—É üéâ

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
"""

    readme_path = "dist/LeadGenerationSystem/README.txt"

    try:
        with open(readme_path, 'w', encoding='utf-8') as f:
            f.write(readme_content)
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª README.txt")
    except Exception as e:
        print(f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å README: {e}")


def create_distribution_package():
    """–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è"""
    print("\nüì¶ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è...")

    dist_folder = "dist/LeadGenerationSystem"
    archive_name = f"LeadGenerationSystem_v3.2.0_{time.strftime('%Y%m%d')}"

    try:
        shutil.make_archive(archive_name, 'zip', dist_folder)
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω –∞—Ä—Ö–∏–≤: {archive_name}.zip")

        size_mb = os.path.getsize(archive_name + '.zip') / (1024 * 1024)
        print(f"üìä –†–∞–∑–º–µ—Ä –∞—Ä—Ö–∏–≤–∞: {size_mb:.1f} –ú–ë")
    except Exception as e:
        print(f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏–≤: {e}")


def create_version_info():
    """–°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤–µ—Ä—Å–∏–∏"""
    version_info = """
Lead Generation System v3.2.0
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üÜï –ß–¢–û –ù–û–í–û–ì–û –í –í–ï–†–°–ò–ò 3.2.0:

‚ú® –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Å—ã–ª–æ–∫ –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏
   - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ä–∞–π–æ–Ω–∞–º –¥–ª—è –º–µ–≥–∞–ø–æ–ª–∏—Å–æ–≤
   - –†—É—á–Ω–æ–π –≤–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
   - –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–∞–π–æ–Ω–æ–≤

ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Webbee AI
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç
   - API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Webbee AI
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

üîß –£–ª—É—á—à–µ–Ω–∏—è:
   - –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ CSV —Ñ–∞–π–ª–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π (–∑–∞–ø—è—Ç–∞—è, —Ç–∞–±—É–ª—è—Ü–∏—è)
   - –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏

üìÖ –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π:
   v3.2.0 (05.02.2026) - Webbee AI + –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Å—ã–ª–æ–∫
   v3.1.0 (01.02.2026) - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
   v3.0.0 (15.01.2026) - –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Å GUI

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
"""

    version_path = "dist/LeadGenerationSystem/VERSION.txt"

    try:
        with open(version_path, 'w', encoding='utf-8') as f:
            f.write(version_info)
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª VERSION.txt")
    except Exception as e:
        print(f"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å VERSION.txt: {e}")


if __name__ == '__main__':
    import time

    print("‚ïî" + "=" * 58 + "‚ïó")
    print("‚ïë" + " " * 10 + "Lead Generation System v3.2.0" + " " * 19 + "‚ïë")
    print("‚ïë" + " " * 15 + "–°–±–æ—Ä–∫–∞ .exe —Ñ–∞–π–ª–∞" + " " * 26 + "‚ïë")
    print("‚ïö" + "=" * 58 + "‚ïù\n")

    # –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
    if not check_structure():
        print("\n‚ùå –°–±–æ—Ä–∫–∞ –ø—Ä–µ—Ä–≤–∞–Ω–∞ –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤")
        sys.exit(1)
    print()

    # –®–∞–≥ 2: –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–±–æ—Ä–æ–∫
    clean_build_folders()
    print()

    # –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    install_dependencies()
    print()

    # –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyInstaller
    install_pyinstaller()
    print()

    # –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ .spec —Ñ–∞–π–ª–∞
    create_spec_file()
    print()

    # –®–∞–≥ 6: –°–±–æ—Ä–∫–∞
    if build_exe():
        print()

        # –®–∞–≥ 7: –°–æ–∑–¥–∞–Ω–∏–µ README
        create_readme()
        print()

        # –®–∞–≥ 8: –°–æ–∑–¥–∞–Ω–∏–µ VERSION.txt
        create_version_info()
        print()

        # –®–∞–≥ 9: –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
        create_distribution_package()

        print("\n‚ïî" + "=" * 58 + "‚ïó")
        print("‚ïë" + " " * 10 + "‚úÖ –°–ë–û–†–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê –£–°–ü–ï–®–ù–û! ‚úÖ" + " " * 17 + "‚ïë")
        print("‚ïö" + "=" * 58 + "‚ïù")

        print("\nüìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:")
        print("1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: dist/LeadGenerationSystem/LeadGenerationSystem.exe")
        print("2. –ò–ª–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç–µ –∞—Ä—Ö–∏–≤: LeadGenerationSystem_v3.2.0_*.zip")
        print("\nüí° –ê—Ä—Ö–∏–≤ –≤–∫–ª—é—á–∞–µ—Ç:")
        print("   ‚Ä¢ –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª (.exe)")
        print("   ‚Ä¢ README.txt —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏")
        print("   ‚Ä¢ VERSION.txt —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π")
        print("   ‚Ä¢ –°—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ config/ –∏ data/")
    else:
        print("\n‚ùå –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–∞–º–∏")
        sys.exit(1)
